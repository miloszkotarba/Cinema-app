import{_ as b,r as p,u as g,o as w,a as v,c as x,g as f,b as e,l as V,m as a,v as r,F as k,p as U,f as q,B as M,w as E}from"./index-elwunUWg.js";import{a as _}from"./axios-QLjAsgXu.js";import{h as m}from"./ErrorHandler-0YoZ9Z16.js";import{_ as R,a as $}from"./AlertDisplay-ZM8wSD_9.js";import{_ as z}from"./MainPage-GSCsHXFk.js";/* empty css                                                     */import"./logo-djfQEiQd.js";const s=n=>(U("data-v-ce79d3a6"),n=n(),q(),n),B={class:"admin-container"},I={class:"indent"},S=s(()=>e("header",null,"Edycja filmu",-1)),C={class:"field"},D=s(()=>e("label",{for:"title"},"tytuł filmu",-1)),j={class:"field"},F=s(()=>e("label",{for:"director"},"reżyser filmu",-1)),N={class:"field"},Y=s(()=>e("label",{for:"relaseYear"},"rok wydania",-1)),Z={class:"field"},A=s(()=>e("label",{for:"relaseCountry"},"kraj wydania",-1)),L={class:"field"},P=s(()=>e("label",{for:"duration"},"czas trwania (w min)",-1)),T={class:"field"},G=s(()=>e("label",{for:"ageRestriction"},"ograniczenie wiekowe",-1)),H={class:"field"},J=s(()=>e("label",{for:"cast"},"aktorzy",-1)),K={class:"field"},O=s(()=>e("label",{for:"genres"},"gatunek",-1)),Q={class:"field"},W=s(()=>e("label",{for:"description"},"opis",-1)),X=s(()=>e("button",{type:"submit",class:"submit-btn"},"Zapisz zmiany",-1)),ee={__name:"EditMovie",setup(n){const d="https://api.kino-screenix.pl/api/v1/movies",u=p(null),t=p({title:"",director:"",release:{year:0,country:""},duration:0,ageRestriction:0,cast:[],genres:[],description:""}),c=g().params.id,y=async()=>{try{const l=await _.get(`${d}/${c}`);t.value=l.data}catch(l){m(l,u)}},h=async()=>{try{await _.patch(`${d}/${c}`,t.value),$.addAlert("Zaktualizowano film.","success","/admin/filmy")}catch(l){m(l,u)}};return w(y),(l,o)=>(v(),x(k,null,[f(R),e("div",B,[e("div",I,[S,e("form",{onSubmit:V(h,["prevent"])},[e("div",C,[D,a(e("input",{type:"text",id:"title","onUpdate:modelValue":o[0]||(o[0]=i=>t.value.title=i),required:""},null,512),[[r,t.value.title]])]),e("div",j,[F,a(e("input",{type:"text",id:"director","onUpdate:modelValue":o[1]||(o[1]=i=>t.value.director=i),required:""},null,512),[[r,t.value.director]])]),e("div",N,[Y,a(e("input",{type:"number",id:"relaseYear","onUpdate:modelValue":o[2]||(o[2]=i=>t.value.release.year=i),required:""},null,512),[[r,t.value.release.year]])]),e("div",Z,[A,a(e("input",{type:"text",id:"relaseCountry","onUpdate:modelValue":o[3]||(o[3]=i=>t.value.release.country=i),required:""},null,512),[[r,t.value.release.country]])]),e("div",L,[P,a(e("input",{type:"number",id:"duration","onUpdate:modelValue":o[4]||(o[4]=i=>t.value.duration=i),required:""},null,512),[[r,t.value.duration]])]),e("div",T,[G,a(e("input",{type:"number",id:"ageRestriction","onUpdate:modelValue":o[5]||(o[5]=i=>t.value.ageRestriction=i),required:""},null,512),[[r,t.value.ageRestriction]])]),e("div",H,[J,a(e("input",{type:"text",id:"cast","onUpdate:modelValue":o[6]||(o[6]=i=>t.value.cast=i),required:""},null,512),[[r,t.value.cast]])]),e("div",K,[O,a(e("input",{type:"text",id:"genres","onUpdate:modelValue":o[7]||(o[7]=i=>t.value.genres=i),required:""},null,512),[[r,t.value.genres]])]),e("div",Q,[W,a(e("textarea",{class:"description",id:"description","onUpdate:modelValue":o[8]||(o[8]=i=>t.value.description=i),required:""},null,512),[[r,t.value.description]])]),X],32)])])],64))}},te=b(ee,[["__scopeId","data-v-ce79d3a6"]]),ue={__name:"EditMovieView",setup(n){return(d,u)=>(v(),M(z,null,{PageContent:E(()=>[f(te)]),_:1}))}};export{ue as default};
