import{_ as S,r as m,u as x,o as y,a as h,c as z,g as v,b as e,l as k,m as u,v as p,F as R,p as E,f as O,B as $,w as B}from"./index-elwunUWg.js";import{a as _}from"./axios-QLjAsgXu.js";import{h as f}from"./ErrorHandler-0YoZ9Z16.js";import{_ as I,a as d}from"./AlertDisplay-ZM8wSD_9.js";import{_ as V}from"./MainPage-GSCsHXFk.js";/* empty css                                                     */import"./logo-djfQEiQd.js";const r=o=>(E("data-v-c7e95a6d"),o=o(),O(),o),g={class:"admin-container"},j={class:"indent"},N=r(()=>e("header",null,"Edycja sali kinowej",-1)),A={class:"field"},D=r(()=>e("label",{for:"name"},"Nazwa sali",-1)),M={class:"field"},U=r(()=>e("label",{for:"numberOfSeats"},"Liczba miejsc",-1)),q=r(()=>e("button",{type:"submit",class:"submit-btn"},"Zapisz zmiany",-1)),C={__name:"EditRoom",setup(o){const n="https://api.kino-screenix.pl/api/v1/rooms",i=m(null),a=m({name:"",numberOfSeats:0}),l=x().params.id,b=async()=>{try{const t=await _.get(`${n}/${l}`);a.value=t.data}catch(t){f(t,i)}},w=async()=>{try{if(a.value.numberOfSeats===0)return d.addAlert("Niepoprawna liczba siedzeń","error");if(a.value.numberOfSeats>200)return d.addAlert("Sala nie może przekraczać 200 miejsc","error");await _.patch(`${n}/${l}`,a.value),d.addAlert("Zaktualizowano salę kinową.","success","/admin/sale")}catch(t){f(t,i)}};return y(b),(t,s)=>(h(),z(R,null,[v(I),e("div",g,[e("div",j,[N,e("form",{onSubmit:k(w,["prevent"])},[e("div",A,[D,u(e("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=c=>a.value.name=c),required:""},null,512),[[p,a.value.name]])]),e("div",M,[U,u(e("input",{type:"number",id:"numberOfSeats","onUpdate:modelValue":s[1]||(s[1]=c=>a.value.numberOfSeats=c),required:""},null,512),[[p,a.value.numberOfSeats]])]),q],32)])])],64))}},F=S(C,[["__scopeId","data-v-c7e95a6d"]]),Q={__name:"EditRoomView",setup(o){return(n,i)=>(h(),$(V,null,{PageContent:B(()=>[v(F)]),_:1}))}};export{Q as default};
